<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>交易-Eth Global</title>
    <link rel="stylesheet" href="../static/css/reset.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/weui/1.1.3/style/weui.min.css">
    <link rel="stylesheet" href="https://cdn.bootcss.com/jquery-weui/1.2.1/css/jquery-weui.min.css">
    <link rel="stylesheet" href="../static/css/trade.css">
    <link rel="stylesheet" href="../static/css/comment.css">
    <link rel="stylesheet" href="../static/css/iconfont.css">
    <script src="../static/js/auto-size.js"></script>
</head>

<body>
    <div class="header"><img alt="Eth.pro" src="../static/images/logo2.png" class="header-logo">
        <div class="fr btn-group"><a href="./login/" class="btn-login" data-backurl="" id="header-login-btn"
                style="display:none">登录</a> <a href="./register/" class="btn-register" data-backurl=""
                id="header-register-btn" style="display:none">注册</a></div>
        <div class="user-info" id="userInfo">
            <!-- <script type="text/x-template">
                <div class="left" growing-ignore="true">
        <p class="name"><%=data.phone || data.email%></p>
        <p class="uid">UID:<%=data.uid%></p>
      </div>
      <div class="right" action="logout">
          <i class="mobile_icon_logout"></i>退出
      </div>
    </script> -->
        </div>
    </div>
    <div class="page-trade">
        <div class="drawer" data-hide="1" style="display: none;">
            <div class="drawer-box" data-hide="0" style="left: 0px;">
                <div class="drawer--title" id="drawer-title">行情 <i class="mobile_icon_contract fr" data-hide="1"></i>
                </div>
                <div class="drawer--tabs" id="drawer-tabs">
                    <span class="upper" data-coin="myFav" id="myselect">
                        <i class="mobile_icon_fav">自选</i>
                    </span>
                    <i class="mobile_icon_fav">
                        <span class="upper cur" data-coin="usdt">usdt</span>
                        <span class="upper" data-coin="husd">husd</span>
                    </i>
                </div>
                <div class="drawer--content" id="drawer-list">
                    <div class="partition" id="partition1">主区</div>
                    <div class="list" id="list1">
                        <!-- <dl data-href="eos_eth">
                            <dt class="fl upper">eos/eth</dt>
                            <dd class="fl">0.00966469</dd>
                            <dd class="color-down fr">-2.20%</dd>
                        </dl>
                        <dl data-href="ht_eth">
                            <dt class="fl upper">ht/eth</dt>
                            <dd class="fl">0.01582097</dd>
                            <dd class="color-down fr">-1.48%</dd>
                        </dl>
                        <dl data-href="ada_eth">
                            <dt class="fl upper">ada/eth</dt>
                            <dd class="fl">0.000451</dd>
                            <dd class="color-down fr">-3.01%</dd>
                        </dl>
                        <dl data-href="trx_eth">
                            <dt class="fl upper">trx/eth</dt>
                            <dd class="fl">0.00006520</dd>
                            <dd class="color-down fr">-2.16%</dd>
                        </dl>
                        <dl data-href="xmr_eth">
                            <dt class="fl upper">xmr/eth</dt>
                            <dd class="fl">0.265536</dd>
                            <dd class="color-down fr">-1.48%</dd>
                        </dl>
                        <dl data-href="iota_eth">
                            <dt class="fl upper">iota/eth</dt>
                            <dd class="fl">0.001009</dd>
                            <dd class="color-down fr">-2.70%</dd>
                        </dl> -->
                    </div>
                    <div class="partition" id="partition2">创新区</div>
                    <div class="list" id="list2">
                        <!-- <dl data-href="algo_eth">
                            <dt class="fl upper">algo/eth</dt>
                            <dd class="fl">0.001186</dd>
                            <dd class="color-down fr">-7.56%</dd>
                        </dl>
                        <dl data-href="link_eth">
                            <dt class="fl upper">link/eth</dt>
                            <dd class="fl">0.02854720</dd>
                            <dd class="color-down fr">-4.82%</dd>
                        </dl>
                        <dl data-href="nexo_eth">
                            <dt class="fl upper">nexo/eth</dt>
                            <dd class="fl">0.000727</dd>
                            <dd class="color-down fr">-0.68%</dd>
                        </dl>
                        <dl data-href="btm_eth">
                            <dt class="fl upper">btm/eth</dt>
                            <dd class="fl">0.00032179</dd>
                            <dd class="color-down fr">-3.07%</dd>
                        </dl>
                        <dl data-href="knc_eth">
                            <dt class="fl upper">knc/eth</dt>
                            <dd class="fl">0.00591442</dd>
                            <dd class="color-down fr">-2.38%</dd>
                        </dl>
                        <dl data-href="ont_eth">
                            <dt class="fl upper">ont/eth</dt>
                            <dd class="fl">0.00259437</dd>
                            <dd class="color-down fr">-4.74%</dd>
                        </dl> -->
                    </div>
                </div>
            </div>
        </div>
        <div class="trade-symbol upper">
            <p>
                <i class="mobile_icon_expand" action="expand"></i>
                <span id="expanName" action="expand" data-base="eth" data-quote="usdt">ETH/USDT</span>
                <span class="actions">
                    <i class="mobile_icon_fav" action="fav" id="addExc"></i>
                    <i class="mobile_icon_chart" action="chart" id="deleteExc"></i>
                </span>
            </p>
        </div>
        <div class="trade-panel" growing-ignore="true">
            <div class="trade-panel--title" id="trade-pannel-tabs">
                <button class="btn color-buy cur" data-direct="buy">买入</button>
                <button class="btn color-sell" data-direct="sell">卖出</button>
                <div class="select-box">
<!--                    <select id="trade-type" name="trade-type">-->
<!--                        <option value="limit">限价</option>-->
<!--                        <option value="market">市价</option>-->
<!--                    </select>-->
<!--                    <i class="arrow"></i>-->
                </div>
            </div>
            <div class="trade-panel--content">
                <div class="fl trade-form buy" id="trade-form" growing-ignore="true">
                    <div class="input-box input-price">
                        <input autocomplate="new-password" id="price" min="0" placeholder="价格" type="number" class="">
                        <span class="actions" id="price-actions" style="display: block;">
                            <i data-action="dec"></i>
                            <i data-action="inc"></i>
                        </span>
                    </div>
                    <div class="equivalent" style="">
                        <span>≈<em id="price-equivalent">¥--</em>
                        </span>
                    </div>
                    <div class="input-box input-amount">
                        <input autocomplate="new-password" id="amount" min="0" placeholder="数量" type="number">
                        <span class="upper" id="amount-coin" data-amountcoin="eth">eth</span>
                    </div>
                    <div class="avaliable">
                        <dl growing-ignore="true">
                            <dt class="fl">可用</dt>
                            <dd class="upper base-balance" style="display: none;">
                                <span id="base-balance" data-basebalance="0.00000000">0.00000000</span>
                                <em data-base="eth">eth</em>
                            </dd>
                            <dd class="upper quote-balance" style="">
                                <span id="quote-balance" data-quotebalance="0.00000000">0.00000000</span>
                                <em data-quote="usdt">usdt</em></dd>
                        </dl>
                    </div>
                    <div class="btn-group" id="position">
                        <button data-proportion="0.25">1/4</button>
                        <span></span>
                        <button data-proportion="0.5">1/2</button>
                        <span></span>
                        <button data-proportion="1">全仓</button>
                    </div>
                    <div class="total" id="total">
                        <span>交易额 <em class="upper totalCount" data-total="--">--</em>
                            <em class="upper" data-quote="usdt">usdt</em>
                        </span>
                    </div>
                    <button class="upper submit" data-base="eth" data-directtext="买入" id="submit">买入 eth</button>
                </div>
                <div class="fr handicap" id="handicap">
                    <div class="handicap-title"><span class="index">盘口</span> <span class="price">价格</span> <span
                            class="amount">数量</span></div>
                    <div class="handicap-sell" id="handicap-sell">
                    </div>
                    <div class="handicap-price color-up"><em id="nowprice">--</em> <b
                            class="rate">+--%</b> <span>≈<b id="now-price-equivalent">¥--</b></span></div>
                    <div class="handicap-buy" id="handicap-buy">
                        <!--<dl style="background-size:63% 100%;" data-price="273.00">
                            <dt class="fl">1</dt>
                            <dd class="fl">273.00</dd>
                            <dd class="fr">79.3781</dd>
                        </dl>
                        <dl style="background-size:100% 100%;" data-price="272.99">
                            <dt class="fl">2</dt>
                            <dd class="fl">272.99</dd>
                            <dd class="fr">125.3137</dd>
                        </dl>
                        <dl style="background-size:4% 100%;" data-price="272.98">
                            <dt class="fl">3</dt>
                            <dd class="fl">272.98</dd>
                            <dd class="fr">4.5355</dd>
                        </dl>
                        <dl style="background-size:0% 100%;" data-price="272.96">
                            <dt class="fl">4</dt>
                            <dd class="fl">272.96</dd>
                            <dd class="fr">0.2772</dd>
                        </dl>
                        <dl style="background-size:2% 100%;" data-price="272.95">
                            <dt class="fl">5</dt>
                            <dd class="fl">272.95</dd>
                            <dd class="fr">2.4000</dd>
                        </dl>-->
                    </div>
                    <div class="handicap-depth"><a href="./orderbook.html">更多</a>
<!--                        <div class="select-box"><select id="depth" name="depth">-->
<!--                                <option value="0">深度 0</option>-->
<!--                                <option value="1">深度 1</option>-->
<!--                                <option value="2">深度 2</option>-->
<!--                                <option value="3">深度 3</option>-->
<!--                                <option value="4">深度 4</option>-->
<!--                                <option value="5">深度 5</option>-->
<!--                            </select> <i class="arrow"></i></div>-->
<!--                    </div>-->
                </div>
            </div>
        </div>
        <div class="trade-order">
            <div class="trade-order--title">当前委托
                <span class="fr" id="to-history"><i
                        class="mobile_icon_history"></i>委托历史</span></div>
            <div class="trade-order--content" id="order-list" growing-ignore="true">
                <div class="no-info"> <img
                        src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzI1cHgiIGhlaWdodD0iMTU3cHgiIHZpZXdCb3g9IjAgMCAzMjUgMTU3IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0OC4yICg0NzMyNykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+5aeU5omY5Y2V5Li656m6QDJ4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPHJlY3QgaWQ9InBhdGgtMSIgeD0iMCIgeT0iMCIgd2lkdGg9IjM2NSIgaGVpZ2h0PSI2MyI+PC9yZWN0PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAuMDAwNTkwMSUiIHkxPSIyNy4xMzQ0MzExJSIgeDI9IjUwJSIgeTI9IjAlIiBpZD0ibGluZWFyR3JhZGllbnQtMyI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRTVFQUVGIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMy4yNDA1OTMxMSUiIHkxPSIzLjI0MDU5MzExJSIgeDI9IjEwMCUiIHkyPSIxMDAlIiBpZD0ibGluZWFyR3JhZGllbnQtNCI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGMkY2RjkiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U0RUFFRiIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjAlIiB5MT0iMTAwJSIgeDI9IjUwJSIgeTI9IjUwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRDlERkU2IiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNFNUVDRjIiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBpZD0i5Lqk5piT5L6n6L655qCPIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjE1LjAwMDAwMCwgLTEyMzYuMDAwMDAwKSI+CiAgICAgICAgPGcgaWQ9Ikdyb3VwLTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxMDk2LjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0i5aeU5omY5Y2V5Li656m6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxOTUuMDAwMDAwLCAxNDAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iT3ZhbC0xNS1Db3B5IiBvcGFjaXR5PSIwLjQ0OTk5OTk4OCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDk2LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcGF0aC0xIj48L3VzZT4KICAgICAgICAgICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Ik1hc2siIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4Mi41MDAwMDAsIDMxLjUwMDAwMCkgc2NhbGUoMSwgLTEpIHRyYW5zbGF0ZSgtMTgyLjUwMDAwMCwgLTMxLjUwMDAwMCkgIj48L2c+CiAgICAgICAgICAgICAgICAgICAgPGVsbGlwc2UgaWQ9Ik92YWwtMTUiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMykiIG1hc2s9InVybCgjbWFzay0yKSIgY3g9IjE4Mi41IiBjeT0iMTAzIiByeD0iMTgyLjUiIHJ5PSI5MiI+PC9lbGxpcHNlPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTEyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDIuMDAwMDAwLCAwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxwb2x5bGluZSBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtNCkiIHBvaW50cz0iOTIgMjIuMzc5NzQ0NiA5MiAxMTIuMTk1MTIyIDAgMTEyLjE5NTEyMiAwIDAgNjkuNjMwOTIxNyAwIj48L3BvbHlsaW5lPgogICAgICAgICAgICAgICAgICAgIDxwb2x5bGluZSBpZD0iUmVjdGFuZ2xlLTMwIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTUpIiBwb2ludHM9IjkyIDIyLjQzOTAyNDQgNjkuNTYwOTc1NiAyMi40MzkwMjQ0IDY5LjU2MDk3NTYgMCI+PC9wb2x5bGluZT4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDxnIGlkPSJQYWdlLTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE3MS4wMDAwMDAsIDMzLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0xNS43MDg3OTg0LDAuNzM3MzM1NDQ2IEMxNS43MDg3OTg0LDAuNzQyMTkwMzI5IDE1LjcxMDA1ODcsMC43NDcwNDUyMTMgMTUuNzEwMDU4NywwLjc1MTkwMDA5NiBDMTUuNzM2NTIzNiwwLjk0NDg4MTcxOSAxNi4zMTYyMzA1LDUuMzg3MTAwMjEgMTQuNjE2MTc2OCwxMC41NjM2MTk4IEMxNC4xNzc2MTU5LDExLjg5NjI4NTQgMTMuNjA2NzMwNiwxMy4yODQ3ODIxIDEyLjgwMjcwMjIsMTQuNjQ3NzkwNyBDMTEuNzM0MDI1MSwxNi40NjQ3MzA4IDEwLjQ5MjY5NiwxOC4yNDUyNTk0IDkuMDAzMTAxMTcsMTkuODIzMDk2NiBDOC4yNDU3MDE0MiwyMC42MjUzNjYxIDcuMDk1MTA5MTIsMjEuNTMwODAxOSA2LjMzNjQ0OTE0LDIyLjE5MjI3OTggQzAuNjM4OTM3ODkxLDI3LjE1Mjc1NzEgMC4zMTUwNTgxMzIsMzIuNjU2OTgxMyAwLjMxNTA1ODEzMiwzNC45Nzg4Mjk0IEMwLjMxNTA1ODEzMiwzNy41NzQ5Nzg0IDEuMDY2MTU2NzIsNDMuMjgzMTA3OCA2LjU5MjI3NjM0LDQ3LjY4NTI3MzUgQzYuNzI0NjAwNzYsNDcuNzkwODY3MiA2LjkyNjIzNzk2LDQ3LjcyMDQ3MTQgNi45NjE1MjQ0Nyw0Ny41NTc4MzI4IEM3LjI2Nzc2MDk4LDQ2LjEzMTcxMDggOC42MzUxMTMyNyw0MC42NTQxODgzIDEyLjYyNTAwOTQsMzQuNjcyOTcxOCBDMTMuNzk5NTQ2MiwzMi45MTMwNzY1IDE1LjIzMjQzMDUsMzEuMTY1MzE4NCAxNi44NTgxMzA1LDI5LjUwNDk0ODIgQzE4LjQ4NTA5MDcsMjcuODQ0NTc4IDIwLjI3NTg4MTEsMjYuNDIzMzEwOCAyMS44MjU5NjcxLDI0LjU3OTY2ODggQzI1Ljc2MTY3MzMsMjAuMDYzNDEzMyAyNS4xMzc4NTgyLDE3LjA1MDk1OCAyNC4zODQyMzkxLDEzLjU4NDU3MTIgQzIzLjE5NTgzOTksOC4xMjY0NjgyNyAyMC4wNjkyMDMsNC41NzAyNjYwNCAxOS4zNTU5MTE0LDMuNTk2ODYxODggQzE5LjM1MDg3MDQsMy41OTA3OTMyOCAxOS4zNDU4Mjk1LDMuNTg1OTM4MzkgMTkuMzQwNzg4NiwzLjU3OTg2OTc5IEwxNy44Njg4MzcsMS45NzI5MDMzMiBDMTcuODY1MDU2MywxLjk2ODA0ODQ0IDE3Ljg2MTI3NTYsMS45NjQ0MDcyNyAxNy44NTc0OTQ5LDEuOTYwNzY2MTEgTDE2Ljg5MjE1NjgsMS4wNDY4MzQyNyBDMTYuODg5NjM2MywxLjA0MzE5MzExIDE2Ljg4NTg1NTYsMS4wNDA3NjU2NyAxNi44ODMzMzUyLDEuMDM4MzM4MjMgTDE2LjA3Njc4NjMsMC4zNTg2NTQ1MjUgQzE1LjkyMzAzOCwwLjIzMDAwMDExIDE1LjY4MzU5MzgsMC4zNDI4NzYxNTQgMTUuNjk2MTk2MSwwLjUzODI4NTIxOCBMMTUuNzA4Nzk4NCwwLjczNzMzNTQ0NiBaIiBpZD0iRmlsbC0xIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTExLjgxMjQxMTUsNTAuNTMwMTEzOSBDMTUuMzczODI4Niw1MS41NDQ3ODQ2IDE5LjA2Mzc4OTUsNTEuODkxOTA4OCAyMi42NTY3MTI0LDUwLjc2OTIxNjkgQzI2LjM5MzMwMTgsNDkuNjAxNjE3NCAzMC41NTIwNjkyLDQ3LjAzOTQ1MjYgMzIuOTM1MTY4OSw0Mi41OTIzNzkzIEMzNC4yMzQ0Njg2LDQwLjE2ODU3ODYgMzQuODU0NTAzLDM3LjUxMTc0MzYgMzQuODcyMTQ2MywzNC45ODk2MzE1IEMzNC44NzM0MDY1LDM0LjczMTEwOSAzNC44NzIxNDYzLDM0LjQ3MjU4NjQgMzQuODY1ODQ1MSwzNC4yMTQwNjM5IEMzNC44NjA4MDQyLDMzLjk2MTYwOTkgMzQuODUxOTgyNiwzMy43MTAzNjk3IDM0LjgzOTM4MDIsMzMuNDU3OTE1OCBDMzQuODI4MDM4MSwzMy4yMTI3NDQxIDM0LjgxMTY1NTEsMzIuOTY2MzU4OCAzNC43OTI3NTE2LDMyLjcyMTE4NzIgQzM0Ljc3NTEwODQsMzIuNDgyMDg0MiAzNC43NTI0MjQyLDMyLjI0NDE5NDkgMzQuNzI4NDc5OCwzMi4wMDUwOTE5IEMzNC43MDQ1MzU0LDMxLjc3MjA1NzQgMzQuNjc2ODEwMiwzMS41NDAyMzY4IDM0LjY0NjU2NDcsMzEuMzA5NjI5OCBDMzQuNjE3NTc5MywzMS4wODM4Nzc3IDM0LjU4NDgxMzMsMzAuODU4MTI1NiAzNC41NDk1MjY4LDMwLjYzMzU4NzIgQzM0LjUxNTUwMDUsMzAuNDE1MTE3NSAzNC40Nzc2OTM1LDMwLjE5NjY0NzcgMzQuNDM4NjI2MywyOS45NzkzOTE3IEMzNC4zOTk1NTkxLDI5Ljc2ODIwNDIgMzQuMzU5MjMxNiwyOS41NTcwMTY4IDM0LjMxMzg2MzMsMjkuMzQ1ODI5NCBDMzQuMjcyMjc1NiwyOS4xNDE5MjQzIDM0LjIyNjkwNzIsMjguOTM4MDE5MSAzNC4xODAyNzg2LDI4LjczNTMyNzggQzM0LjEzMzY1LDI4LjUzODcwNSAzNC4wODU3NjEyLDI4LjM0MjA4MjIgMzQuMDM1MzUxOSwyOC4xNDY2NzMxIEMzMy45ODYyMDI4LDI3Ljk1NzMzMjcgMzMuOTM1NzkzNSwyNy43Njc5OTIyIDMzLjg4MTYwMzUsMjcuNTc5ODY1NSBDMzMuODMxMTk0MiwyNy4zOTc4MDczIDMzLjc3NzAwNDIsMjcuMjE2OTYyOSAzMy43MjE1NTQsMjcuMDM3MzMyMiBDMzMuNjY4NjI0MiwyNi44NjI1NTY0IDMzLjYxMzE3NCwyNi42ODg5OTQzIDMzLjU1NTIwMzMsMjYuNTE2NjQ2IEMzMy41MDEwMTMzLDI2LjM1MTU3OTkgMzMuNDQ0MzAyOCwyNi4xODUzMDAxIDMzLjM4NTA3MTksMjYuMDIxNDQ3OCBDMzMuMzI5NjIxNywyNS44NjI0NTA0IDMzLjI3MTY1MSwyNS43MDQ2NjY3IDMzLjIxMjQyLDI1LjU0ODA5NjcgQzMzLjE1Njk2OTgsMjUuMzk4ODA5IDMzLjA5ODk5OTEsMjUuMjQ5NTIxMyAzMy4wMzg1MDgsMjUuMTAxNDQ3NCBDMzIuOTgxNzk3NSwyNC45NTk0NDIgMzIuOTIzODI2OCwyNC44MTg2NTA0IDMyLjg2NDU5NTksMjQuNjc3ODU4OCBDMzIuODA3ODg1NCwyNC41NDU1NjMyIDMyLjc0OTkxNDcsMjQuNDEyMDUzOSAzMi42OTA2ODM4LDI0LjI4MDk3MjEgQzMyLjYzNTIzMzUsMjQuMTU1OTU4OCAzMi41Nzk3ODMzLDI0LjAzMjE1OTMgMzIuNTIzMDcyOSwyMy45MDgzNTk3IEMzMi40Njg4ODI5LDIzLjc5MzA1NjMgMzIuNDEzNDMyNiwyMy42Nzc3NTI4IDMyLjM1NjcyMjIsMjMuNTYyNDQ5MyBDMzIuMzAzNzkyNCwyMy40NTU2NDE4IDMyLjI1MDg2MjYsMjMuMzQ4ODM0NCAzMi4xOTY2NzI2LDIzLjI0MzI0MDcgQzMyLjE0NjI2MzMsMjMuMTQ0OTI5MyAzMi4wOTU4NTQsMjMuMDQ2NjE3OSAzMi4wNDQxODQ1LDIyLjk0OTUyMDIgQzMxLjk5NzU1NTksMjIuODYwOTE4NiAzMS45NDk2NjcxLDIyLjc3MjMxNyAzMS44OTkyNTc3LDIyLjY4NDkyOTEgQzMxLjg1NTE0OTYsMjIuNjA0ODIzNSAzMS44MTEwNDE1LDIyLjUyNDcxNzkgMzEuNzY1NjczMSwyMi40NDU4MjYxIEMzMS43MjUzNDU3LDIyLjM3NTQzMDIgMzEuNjg1MDE4MiwyMi4zMDUwMzQ0IDMxLjY0MjE3MDMsMjIuMjM1ODUyMyBDMzEuNjA1NjIzNiwyMi4xNzM5NTI2IDMxLjU2OTA3NjgsMjIuMTEzMjY2NSAzMS41MzEyNjk5LDIyLjA1Mzc5NDIgQzMxLjQ5OTc2NCwyMi4wMDAzOTA1IDMxLjQ2OTUxODUsMjEuOTM2MDYzMyAzMS40MjAzNjk0LDIxLjg5NjAxMDUgQzMxLjM3NTAwMSwyMS44NTk1OTg5IDMxLjMxNDUwOTksMjEuODM1MzI0NCAzMS4yNTUyNzg5LDIxLjg0MTM5MzEgQzMxLjE1Njk4MDgsMjEuODUxMTAyOCAzMS4wNzg4NDY0LDIxLjkyMTQ5ODYgMzEuMDQ5ODYxLDIyLjAxMDEwMDMgQzMwLjgzNjg4MTcsMjIuNjU4MjI3MiAzMC4yMjY5MjkyLDI0LjA3NDYzOTUgMjkuOTU1OTc5MiwyNC42NjA4NjY3IEMyNy43NTY4NzM0LDI5LjQyNDcyMTIgMjQuMzcxODg4OSwzMi45MDgxMDAyIDIwLjU3MjI4NzgsMzYuNTY3NDY4NyBDMTguOTEzODIxOCwzOC4xNjQ3MjU0IDE3LjI1OTEzNjUsMzkuOTQ4ODk1MSAxNi4wODcxMjAyLDQxLjk2NDg4NTUgQzE1LjQ5NzMzMTQsNDIuOTc1OTE1MSAxNS4wMjQ3NDQyLDQ0LjA1MTI3MTggMTQuNzE0NzI3LDQ1LjE3MTUzNjIgQzE0LjQ1MDA3ODIsNDYuMTMwMzc1NyAxNC41NDcxMTYxLDQ3LjE2MDgyNDcgMTQuMjA2ODUzMyw0OC4xMDc1MjcgQzE0LjA5NDY5MjYsNDguNDIwNjY3IDEzLjk2NDg4ODcsNDguNzQ3MTU3OSAxMy43MjU0NDQ1LDQ4Ljk5MjMyOTUgQzEzLjI0NzgxNjQsNDkuNDgxNDU5MSAxMi42MjUyNjE1LDQ5LjY3NDQ0MDcgMTEuOTQ5Nzc2OSw0OS42NzQ0NDA3IiBpZD0iRmlsbC01Ij48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="
                        alt="no-order">
                    <p>暂无记录</p>
                </div>
            </div>
        </div>
    </div>
    <div class="nav">
        <a href="../index.html" data-cur>
            <i class="mobile_icon_home"></i>首页
        </a>
        <a href="./market.html" data-cur="market">
            <i class="mobile_icon_market"></i>行情
        </a>
        <a href="./trade.html" data-cur="trade" class="cur">
            <i class="mobile_icon_trade"></i>币币交易
        </a>
        <a href="./finance.html" data-cur="finance">
            <i class="mobile_icon_finance"></i>资产
        </a>
    </div>
    <script src="../static/js/jquery-3.1.1.min.js"></script>
    <script src="https://cdn.bootcss.com/jquery-weui/1.2.1/js/jquery-weui.min.js"></script>
    <script src="../static/js/request.js"></script>
    <script>



        //获取交易对
        let data = {
            id: getUrlParam('id')?getUrlParam('id'):6
        };

        $("#amount").bind("input propertychange",function(event){
            let total = accurateDecimal($("#amount").val() * $("#price").val(),8,1);
            $(".totalCount").html(total);
        });

        let excGetExcpairsResult = ajaxMethod('excGetExcpairs', data);
        let excData = excGetExcpairsResult.return[0];

        $("#expanName").html(excData.name);
        $(function () {
            setInterval(function() {
                let excGetExcpairsResult = ajaxMethod('excGetExcpairs', data);
                let quotation = excGetExcpairsResult.return[0].quotation;
                let excData = excGetExcpairsResult.return[0];
                let priceEq = (quotation.open * getHuilv()).toFixed(2);

                if (quotation.rate < 0) {
                    $(".handicap-price").addClass('color-down');
                } else {
                    $(".handicap-price").addClass('color-up');
                }

                $("#nowprice").data("nowprice", quotation.open);
                $("#nowprice").text(quotation.open);
                $(".rate").text((quotation.rate >= 0 ? "+" : "") + quotation.rate + "%");
                $("#now-price-equivalent").text("￥" + priceEq);

                let excDepthResult = ajaxMethod('excDepth', {excpairs:6});
                if (excDepthResult.code == 1) {
                    let arryDep = excDepthResult.return;
                    let asksArr = arryDep.asks.slice(0,5);//买入
                    let bidsArr = arryDep.bids.slice(0,5);//卖出

                    let asksMax = getMax(asksArr);
                    let bidsMax = getMax(bidsArr);
                    let maxNum = asksMax > bidsMax? asksMax : bidsMax;

                    let asksHtml = '';
                    let bidsHtml = '';
                    for (let i= asksArr.length-1;i>=0;i--) {
                        let asksRate = parseInt(asksArr[i][1]/maxNum*100);//背景占比

                        asksHtml += '<dl style="background-size:'+asksRate+'% 100%;" data-price="'+accurateDecimal(asksArr[i][0],2,1)+'">' +
                            '<dt class="fl">'+(i+1)+'</dt>' +
                            '<dd class="fl">'+accurateDecimal(asksArr[i][0],2,1)+'</dd>' +
                            '<dd class="fr">'+asksArr[i][1].toFixed(4)+'</dd>' +
                            '</dl>';
                    };
                    $("#handicap-sell").html(asksHtml);
                    asksHtml = "";

                    for (let i = 0; i < bidsArr.length; i++) {
                        let bidsRate = parseInt(bidsArr[i][1]/maxNum*100);//背景占比

                        bidsHtml += '<dl style="background-size:'+bidsRate+'% 100%;" data-price="'+accurateDecimal(bidsArr[i][0],2,1)+'">' +
                            '<dt class="fl">'+(i+1)+'</dt>' +
                            '<dd class="fl">'+accurateDecimal(bidsArr[i][0],2,1)+'</dd>' +
                            '<dd class="fr">'+bidsArr[i][1].toFixed(4)+'</dd>' +
                            '</dl>';
                    };
                    $("#handicap-buy").html(bidsHtml);
                    bidsHtml = "";
                }

            },1000);
        })

        var excsetInterval = setInterval(function() {
            let priceEq = (excData.quotation.open * getHuilv()).toFixed(2);
            $("#price-equivalent").text("￥" + priceEq);
            $("#price").val($("#nowprice").html());
        },1000);

        $('#handicap-sell,#handicap-buy').on('click','dl',function(){
            var price = $(this).data('price');
            $("#price").val(price);
            window.clearInterval(excsetInterval);
        })

        $('#handicap-sell,#handicap-buy').on('click','dl',function(){
            var price = $(this).data('price');
            $("#price").val(price);
            window.clearInterval(excsetInterval);
        })
        $('#price').bind('input propertychange', function() {
            $("#price-equivalent").html("￥"+($(this).val() * getHuilv()).toFixed(2))
            window.clearInterval(excsetInterval);
        });

        let index = 0;
        //调整买入、卖出
        $("#trade-pannel-tabs button").on("click", function () {
            $(this).addClass("cur").siblings().removeClass("cur");
            index = $(this).index();
            console.log(index);
            switch (index) {
                case 0:
                    $("#submit").css("background", "#03ad8f");
                    $("#submit").text("买入" + excData.fromcname);
                    break;
                case 1:
                    $("#submit").css("background", "#d14b64");
                    $("#submit").text("卖出" + excData.fromcname);
                    break;
            }
            $(this).addClass("cur");
            $(this).siblings().removeClass("cur");
        });
        (function () {
            marcktList({
                category: 1,
                tocname: 'USDT'
            }, 1);
            marcktList({
                category: 2,
                tocname: 'USDT'
            }, 2);
        })(jQuery);
        //点击选择具体某个商品
        $("#list1").on("click", '#marckID', function () {
            let info_id = $(this)[0].dataset.id;
            console.log($(this)[0].dataset.id); //查看详情需要参数
            $(".drawer").css('display', 'none');
            let excGetCoininfoResult = ajaxMethod('excGetCoininfo', {
                coin_id: info_id
            });
            console.log(excGetCoininfoResult, "详情信息");
        })
        $("#list2").on("click", '#marckID', function () {
            let info_id = $(this)[0].dataset.id;
            console.log($(this)[0].dataset.id); //查看详情需要参数
            $(".drawer").css('display', 'none');
            let excGetCoininfoResult = ajaxMethod('excGetCoininfo', {
                coin_id: info_id
            });
            console.log(excGetCoininfoResult, "详情信息");
        })
        //调整行情列表
        $(".mobile_icon_fav span").on('click', function () {
            $(this).addClass("cur").siblings().removeClass("cur");
            $("#myselect").removeClass('cur');
            let index = $(this).index();
            let marckData = {};
            switch (index) {
                case 0:
                    marcktList({
                        category: 1,
                        tocname: 'USDT'
                    }, 1);
                    marcktList({
                        category: 2,
                        tocname: 'USDT'
                    }, 2);
                    break;
                case 1:
                    marcktList({
                        category: 1,
                        tocname: 'HUSD'
                    }, 1);
                    marcktList({
                        category: 2,
                        tocname: 'HUSD'
                    }, 2);
                    break;
            }
            $(this).addClass("cur");
            $(this).siblings().removeClass("cur");
        });
        //获取自选
        $("#myselect").on('click', function () {
            $("#myselect").addClass('cur');
            $(".mobile_icon_fav span").siblings("span").removeClass("cur");
            marcktList({
                category: -1
            }, 0);
        });
        //获取委托历史
        let history = {
            excpairs: excData.id,
            status: 1,
            type: 1
        };
        let excGetEntrustResult = ajaxMethod('excGetEntrust', history);
        console.log(excGetEntrustResult);
        $("#expanName,.mobile_icon_expand").on("click", function () {
            $(".drawer").css('display', 'block');
        });
        $(".mobile_icon_contract").on("click", function () {
            $(".drawer").css('display', 'none');
        });
        $('.drawer').click(function(){
            $(this).css("display","none")
        })
        $('.drawer-box').click(function(event){
            event.stopPropagation();
        })
        //获取行情交易对列表
        function marcktList(data, type) {
            let marcktListResult = ajaxMethod('excGetExcpairs', data);
            let html = '';
            for (let i = 0; i < marcktListResult.return.length; i++) {
                html += '<dl data-href="eos_eth" id="marckID" data-id=' + marcktListResult.return[i].fromcid +
                    "><dt class='fl upper'>" + marcktListResult.return[i].name +
                    "</dt><dd class='fl'>" + marcktListResult.return[i].tocid +
                    "</dd><dd class='color-down fr'>" + marcktListResult.return[i].tocid + "</dd></dl>"
            }
            if (type == 1) {
                if (marcktListResult.return.length == 0) {
                    $("#partition1").css("display", 'none');
                } else {
                    $("#partition1").css("display", 'block');
                }
                $("#list1").html(html);
            } else if (type == 2) {
                if (marcktListResult.return.length == 0) {
                    $("#partition2").css("display", 'none');
                } else {
                    $("#partition2").css("display", 'block');
                }
                $("#list2").html(html);
            } else {
                if (marcktListResult.return.length != 0) {
                    $("#list1").html(html);
                    $("#partition2").css("display", 'none');
                } else {
                    $("#partition1").css("display", 'none');
                    $("#partition2").css("display", 'none');
                    // html =
                    //     "<div class='lists'><div class='no-info'> <img src='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTcwcHgiIGhlaWdodD0iMTcwcHgiIHZpZXdCb3g9IjAgMCAxNzAgMTcwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0OC4yICg0NzMyNykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+5YWo5bGA5peg6K6w5b2VQDJ4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIzLjI0MDU5MzExJSIgeTE9IjMuMjQwNTkzMTElIiB4Mj0iMTAwJSIgeTI9IjEwMCUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0YyRjZGOSIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRTRFQUVGIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iOS40NTA5NTA0MiUiIHkxPSI0Mi44NTUxNzA0JSIgeDI9IjEwMCUiIHkyPSI0Mi44NTUxNzA0JSIgaWQ9ImxpbmVhckdyYWRpZW50LTIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRThFQ0VGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNFMEU0RTgiIG9mZnNldD0iMTAwJSI+PC9zdG9wPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSI1MCUiIHkxPSI5NS41ODMzODU1JSIgeDI9IjUwJSIgeTI9IjMuMjY1MTIyNDQlIiBpZD0ibGluZWFyR3JhZGllbnQtMyI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNEM0Q5RTAiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0QwRDZEQyIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSLotYTkuqfnjrDotKct5peg5pWw5o2uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjkwLjAwMDAwMCwgLTc5Ni4wMDAwMDApIj4KICAgICAgICA8ZyBpZD0i5YWo5bGA5peg6K6w5b2VIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyOTAuMDAwMDAwLCA3OTYuMDAwMDAwKSI+CiAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMiIgZmlsbD0iI0ZGRkZGRiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE3MCIgaGVpZ2h0PSIxNzAiPjwvcmVjdD4KICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuOTUwMDAwLCAwLjg1MDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTItQ29weSIgb3BhY2l0eT0iMC4zMDAwMDAwMTIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkxLjgwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iQ29tYmluZWQtU2hhcGUtQ29weSIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgcG9pbnRzPSIwLjA3ODExNjE2MzcgNi44IDU3LjkwNzg4MDMgNDAuOTMwMjY2NiA1Ny45MDc4ODAzIDE0Ny45NTY3NjYgMC4wNzgxMTYxNjM3IDExMy44MjY0OTkiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxMS4xMjgxMTYyIDM2LjU1IDQ3LjM5NjM0NTcgNTcuMjA2NzkwOCA0Ny4zOTYzNDU3IDY3Ljg3OTQ5MDQgMTEuMTI4MTE2MiA0Ny4yMjI2OTk2Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlJlY3RhbmdsZS1Db3B5LTgiIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iMTEuMTI4MTE2MiA2MC4zNSA0Ny4zOTYzNDU3IDgxLjAwNjc5MDggNDcuMzk2MzQ1NyA5MS42Nzk0OTA0IDExLjEyODExNjIgNzEuMDIyNjk5NiI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJSZWN0YW5nbGUtQ29weS05IiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjExLjEyODExNjIgODMuMyAzMS45OTQ1OTUgOTUuNjIwNzMwNCAzMS45OTQ1OTUgMTA1LjQ0MzQzIDExLjEyODExNjIgOTMuMTIyNjk5NiI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJSZWN0YW5nbGUtMi1Db3B5IiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTIpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMy41ODI2MzEsIDIxLjg5ODg5MSkgcm90YXRlKDMwLjAwMDAwMCkgdHJhbnNsYXRlKC0zMy41ODI2MzEsIC0yMS44OTg4OTEpICIgcG9pbnRzPSIzLjYxNzgwOTUzIDE3LjY3Mzk0NjggNjkuNzE1MjYxMSAxNy40NzM0MTM4IDY0LjU2NDcyNjIgMjYuMzI0MzY3NSAtMi41NSAyNi4yNDcxNzkxIj48L3BvbHlnb24+CiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlJlY3RhbmdsZS0zLUNvcHkiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMykiIHBvaW50cz0iNTcuODc4MTE2MiA0MS4yMDMyNTg1IDY3LjEwOTQ4OCAzNS43IDY3LjEwOTQ4OCAxNDIuNjYyNjEgNTcuODc4MTE2MiAxNDguMTY1ODY4Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUGF0aC0xMyIgZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSI1Ni4xIDkuMzUgMTEyLjY4OTAzNCA0Mi4zMjg3NzY5IDExMi42ODkwMzQgMTQ5LjQ0ODg2MyA3NC4xMTMzMzE4IDE2OC43MjQ0MzIiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yIiBvcGFjaXR5PSIwLjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ1LjkwMDAwMCwgNS45NTAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iQ29tYmluZWQtU2hhcGUtQ29weSIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgcG9pbnRzPSIwLjA3ODExNjE2MzcgNi44IDU3LjkwNzg4MDMgNDAuOTMwMjY2NiA1Ny45MDc4ODAzIDE0Ny45NTY3NjYgMC4wNzgxMTYxNjM3IDExMy44MjY0OTkiPjwvcG9seWdvbj4KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxMS4xMjgxMTYyIDM2LjU1IDQ3LjM5NjM0NTcgNTcuMjA2NzkwOCA0Ny4zOTYzNDU3IDY3Ljg3OTQ5MDQgMTEuMTI4MTE2MiA0Ny4yMjI2OTk2Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlJlY3RhbmdsZS1Db3B5LTgiIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iMTEuMTI4MTE2MiA2MC4zNSA0Ny4zOTYzNDU3IDgxLjAwNjc5MDggNDcuMzk2MzQ1NyA5MS42Nzk0OTA0IDExLjEyODExNjIgNzEuMDIyNjk5NiI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJSZWN0YW5nbGUtQ29weS05IiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjExLjEyODExNjIgODMuMyAzMS45OTQ1OTUgOTUuNjIwNzMwNCAzMS45OTQ1OTUgMTA1LjQ0MzQzIDExLjEyODExNjIgOTMuMTIyNjk5NiI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJSZWN0YW5nbGUtMi1Db3B5IiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTIpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMy41ODI2MzEsIDIxLjg5ODg5MSkgcm90YXRlKDMwLjAwMDAwMCkgdHJhbnNsYXRlKC0zMy41ODI2MzEsIC0yMS44OTg4OTEpICIgcG9pbnRzPSIzLjYxNzgwOTUzIDE3LjY3Mzk0NjggNjkuNzE1MjYxMSAxNy40NzM0MTM4IDY0LjU2NDcyNjIgMjYuMzI0MzY3NSAtMi41NSAyNi4yNDcxNzkxIj48L3BvbHlnb24+CiAgICAgICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlJlY3RhbmdsZS0zLUNvcHkiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMykiIHBvaW50cz0iNTcuODc4MTE2MiA0MS4yMDMyNTg1IDY3LjEwOTQ4OCAzNS43IDY3LjEwOTQ4OCAxNDIuNjYyNjEgNTcuODc4MTE2MiAxNDguMTY1ODY4Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNDcuODg1MzI4NiwxNTQuODM3NzA4IEwzNy4zNTIzMzY0LDE2MC42ODQxOTEgTDMxLjIyOTAxMTUsMTQ1LjAwNzM5NyBMMCwxMjYuNTc2NDk5IEwwLDE5LjU1IEw1Ny44Mjk3NjQxLDUzLjY4MDI2NjYgTDU3LjgyOTc2NDEsMTYwLjcwNjc2NiBMNDcuODg1MzI4NiwxNTQuODM3NzA4IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjExLjA1IDQ5LjMgNDcuMzE4MjI5NSA2OS45NTY3OTA4IDQ3LjMxODIyOTUgODAuNjI5NDkwNCAxMS4wNSA1OS45NzI2OTk2Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxMS4wNSA3My4xIDQ3LjMxODIyOTUgOTMuNzU2NzkwOCA0Ny4zMTgyMjk1IDEwNC40Mjk0OSAxMS4wNSA4My43NzI2OTk2Ij48L3BvbHlnb24+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUmVjdGFuZ2xlLUNvcHktNyIgZmlsbD0iI0ZGRkZGRiIgcG9pbnRzPSIxMS4wNSA5Ni4wNSAzMS45MTY0Nzg4IDEwOC4zNzA3MyAzMS45MTY0Nzg4IDExOC4xOTM0MyAxMS4wNSAxMDUuODcyNyI+PC9wb2x5Z29uPgogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlJlY3RhbmdsZS0yIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTIpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMy41MDQ1MTQsIDM0LjY0ODg5MSkgcm90YXRlKDMwLjAwMDAwMCkgdHJhbnNsYXRlKC0zMy41MDQ1MTQsIC0zNC42NDg4OTEpICIgcG9pbnRzPSIzLjUzOTY5MzM3IDMwLjQyMzk0NjggNjkuNjM3MTQ0OSAzMC4yMjM0MTM4IDY0LjQ4NjYxMDEgMzkuMDc0MzY3NSAtMi42MjgxMTYxNiAzOC45OTcxNzkxIj48L3BvbHlnb24+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iUmVjdGFuZ2xlLTMiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMykiIHBvaW50cz0iNTcuOCA1My45NTMyNTg1IDY3LjAzMTM3MTggNDguNDUgNjcuMDMxMzcxOCAxNTUuNDEyNjEgNTcuOCAxNjA价格uOTE1ODY4Ij48L3BvbHlnb24+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==' alt='no-info'><p>暂无记录</p></div></div>"
                    // $("#drawer-list").html(html);
                }
            }

        }
        let isExc = false;
        //获取当前自选状态
        if (localStorage.getItem("isExc")) {
            isExc = localStorage.getItem("isExc");
        } else {
            isExc = false;
        };
        //加入/删除自选
        $("#addExc").on('click', function () {
            isExc = !isExc;
            //保存当前状态
            localStorage.setItem("isExc", isExc);
            if (isExc) {
                //加入
                let excStarResult = ajaxMethod('excStar', {
                    id: data.id
                });
                if (excStarResult.code == 0) {
                    $.toast(excStarResult.msg, "text");
                } else {
                    $("#addExc").addClass("marked");
                };
            } else {
                //删除
                let excUnstarResult = ajaxMethod('excUnstar', {
                    id: data.id
                });
                if (excUnstarResult.code == 0) {
                    $.toast(excUnstarResult.msg, "text");
                } else {
                    $("#addExc").removeClass("marked");
                };
            }
        });

        $("#deleteExc").on('click', function () {
            location.href = "../page/chart.html?excpairs="+data.id;
        });


        function  accurateDecimal(number,format,zeroFill){
            //判断非空
            if (!isEmpty(number))
            {
                //正则匹配:正整数，负整数，正浮点数，负浮点数
                if (!/^\d+(\.\d+)?$|^-\d+(\.\d+)?$/.test(number))
                    return number;
                var n=1;
                for(var i=0;i<format;i++){
                    n=n*10;
                }

                //四舍五入
                number=Math.round(number*n)/n;
                var str=number.toString();

                //是否补零
                if(zeroFill){
                    var index;
                    if(str.indexOf(".")==-1){
                        index=format;
                        str+='.';
                    }else{
                        index=format-((str.length-1)-str.indexOf("."));
                    }

                    for(var i=0;i<index;i++){

                        str+='0';
                    }
                }
                return str;
            }
            return number;
        };

        //非空验证
        function isEmpty(ObjVal){
            if ((ObjVal==null || typeof(ObjVal)=="undefined")|| (typeof(ObjVal)=="string"&&ObjVal==""&&ObjVal!="undefined")){
                return true;
            }else{
                return false;
            }
        }

        function getMax(arr) {
            var arr = [arr];
            var values = arr[0].map(function(elt) { return elt[1]; });
            return Math.max.apply(null, values);
        }

        function getHuilv() {
            let getHuilvResult = ajaxMethod('getHuilv',{});
            return getHuilvResult['return'];
        }

        $("#submit").on("click",function (){
            let nums = $("#amount").val();
            let price = $("#price").val();
            let type = index+1;

            if(!nums || nums<=0){
                $.toast("无效的数额", "text");return;
            }

            if (!localStorage.getItem("uid")) {
                location.href = "../page/login.html";
            }

            //提交委托
            let startEntrustsResult = ajaxMethod('startEntrusts', {
                excpairs:data.id,
                type: type,
                price: price,
                nums: nums
            });

            $.toast(startEntrustsResult.msg, "text");return;
        })
    </script>
    <script>
        // --------------------------新加代码片段开始位置 2020-08-09------------------------------
        //语言选中
        $("#language").change(function(){
            var multer=$(this).val();          //获取下拉选中值
            console.log("multer",multer)
            switch(multer)
            {   //选择中文
                case "zh-cn":localStorage.setItem("yuyan_type","zh-cn");location.reload();//刷新页面//存储页面缓存
                    break;
                //选择English
                case "en-us":localStorage.setItem("yuyan_type","en-us");location.reload();//刷新页面//存储页面缓存
                    break;
                //选择한국어
                case "ko-kr":localStorage.setItem("yuyan_type","ko-kr");location.reload();//刷新页面//存储页面缓存
                    break;
                default:localStorage.setItem("yuyan_type","zh-cn");location.reload();//刷新页面//存储页面缓存
            }
        })
        // --------------------------新加代码片段结束位置------------------------------

        $(function () {

            // --------------------------新加代码片段开始位置 2020-08-09------------------------------
            //获取选中的语言类型
            var yuyan_type=localStorage.getItem("yuyan_type");
            //设置下拉框语言的选中状态
            var language=$("#language option");
            for(var i=0;i<language.length;i++){
                var values=language.eq(i).val();
                if(values==yuyan_type){language.eq(i).prop("selected","selected")}
            }
            // 不同语言分段处理数据
            if(yuyan_type=="zh-cn"){
                //中文的数据
                var China_data=["买入","卖出","限价","市价","盘口","价格","数量","可用","全仓","交易额","买入 eth","买入","更多","当前委托","委托历史","暂无记录","首页","行情","币币交易","资产","卖出ETH"]
                versionKey(China_data);//翻译数据
            }
            if(yuyan_type=="en-us"){
                //英文的数据
                var English_data=["Buy","Sell","Limit","Market","Orders","Price","Amount","Available","All in","Total","Buy btc","Buy","More","Open Orders","Order History","No record","Home","Markets","Exchange","Balances","Sell btc"]
                versionKey(English_data);//翻译数据
            }
            if(yuyan_type=="ko-kr"){
                //韩语的数据
                var han_data=["매수","매출","가격","시가","조사","가격","수량","주문 가능","전체","거래액","매수 btc","매수","더 보기","미체결내역","주문내역","기록 없음","홈","시장","코인간 마켓","자산","매도 btc"]
                versionKey(han_data);//翻译数据
            }
            // 需要翻译的公用方法  自助添加
            function versionKey(datas){
                // 买入
                $(".color-buy").html(datas[0]);
                //卖出
                $(".color-sell").html(datas[1]);
                // 限价
                $("#trade-type").eq(0).html(datas[2]);
                //市价
                $("#trade-type").eq(1).html(datas[3]);
                //盘口
                $(".handicap-title span").eq(0).html(datas[4]);
                //价格
                $(".handicap-title span").eq(1).html(datas[5]);
                // 数量
                $(".handicap-title span").eq(2).html(datas[6]);
                $(".input-price input").attr("placeholder",datas[5]);
                $(".input-amount input").attr("placeholder",datas[6]);
                $(".avaliable dt").html(datas[7]);
                // 限价市价
                $("#trade-type").html("<option value=\"limit\">"+datas[2]+"</option>"+"<option value=\"market\">"+datas[3]+"</option>");
                //全仓
                $("#position button").eq(2).html(datas[8]);
            //    交易额
                $("#total").html("<span>"+datas[9]+" <em class=\"upper totalCount\"data-total=\"--\">--</em>"+"<em class=\"upper\" data-quote=\"usdt\">usdt</em>"+"</span>")
            //    买入
                $("#submit").html(datas[10])
                $("#submit").attr("data-directtext",datas[11])
                //    卖出
                // $("#submit").eq("卖出卖出ETH").html(datas[20])
            //    更多
                $(".handicap-depth").html(datas[12])
            //    委托
                $(".trade-order--title").html(datas[13]+"<span class=\"fr\"id=\"to-history\"><i\n"+"class=\"mobile_icon_history\"></i>"+datas[14]+"</span>")
            //    无记录
                $(".trade-order--content p").html(datas[15])
                //首页最底层栏目
                $(".nav a").eq(0).html("<i class=\"mobile_icon_home\"></i>"+datas[16])
                $(".nav a").eq(1).html("<i class=\"mobile_icon_market\"></i>"+datas[17])
                $(".nav a").eq(2).html("<i class=\"mobile_icon_trade\"></i>"+datas[18])
                $(".nav a").eq(3).html("<i class=\"mobile_icon_finance\"></i>"+datas[19])
            }
            // --------------------------新加代码片段结束位置------------------------------
        })
    </script>
</body>

</html>